(function(e){var t={};e.fn.fluxui=function(r,s){var o=e(this);o.empty(),t=i.events.dispatcher.getInstance();var u,f=this.each(function(){r||e.fn.fluxui.log("No movie to parse. Exiting.");if(!!r&&!!r.assets){var l=new Array;for(a in r.assets)l.push(r.assets[a]);l.length>0&&i.core.preload(l),e.extend(!0,n,r.assets)}if(!r.movie)e.fn.fluxui.log("Movie structure corrupt.");else{var c=this;c.parseMovie=function(){var e=function(){u=this.node,o.css("position","relative"),u=i.display.element.getInstance(u)};i.serialiser.parse("root_"+i.core.nextMovieCounter(),r.movie,null,e,o),!s||s({movie:f,eventDispatcher:t,types:i,inst:u})};var h=i.loader.classesToLoad(r.movie);h.length>0?i.loader.load(h,function(){c.parseMovie()}):c.parseMovie()}})};var n=e.fn.fluxui.assets=e.fn.fluxui.assets||{},r=e.fn.fluxui.fdata=e.fn.fluxui.fdata||{},i=e.fn.fluxui.types=e.fn.fluxui.types||{},s=e.fn.fluxui.$class=e.fn.fluxui.$class||{};e.fn.fluxui.initialise=function(t){e.extend(!0,this.settings,t)},e.fn.fluxui.evt=function(){return i.events.dispatcher.getInstance()},s.create=e.fn.fluxui.$class.create=function(){return function(t){var n,r=function(){},s=Object.prototype.hasOwnProperty,o=i;if(!t)return function(){};if(!t.namespace)throw new Error("Please specify the Namespace.");var u=t.namespace.split(".");for(var a=0;a<u.length;a++)!o||(o=o[u[a]]);if(!o){if(s.call(t,"constructor")){if(typeof t.constructor!="function")throw new TypeError("Illegal function ["+t.namespace+".constructor]!");r=t.constructor}this.inherits=function(e,t){function r(){this.constructor=e}for(n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=e.Super=t.prototype,e},t.inherits&&this.inherits(r,t.inherits);var f=function(e,t,r){for(n in t)s.call(t,n)&&(r?e[n]=t[n]:e.prototype[n]=t[n])};t.methods&&f(r,t.methods),t.fields||(t.fields={}),t.fields.className=t.namespace,f(r,t.fields),t.statics&&f(r,t.statics,!0);if(t.props){var l=r.prototype.props=e.extend(!0,{},r.prototype.props);f(l,e.extend(!0,{},t.props),!0)}var c=t.namespace;if(c.length==0||c.indexOf(" ")!=-1||c.charAt(0)=="."||c.charAt(c.length-1)=="."||c.indexOf("..")!=-1)throw new Error("illegal Namespace: "+c);var h=c.split("."),p=i;for(var a=0;a<h.length-1;a++){var d=h[a];if(!p[d])p[d]={};else if(typeof p[d]!="object"){var v=h.slice(0,a).join(".");throw new Error(v+" already exists and is not an object")}p=p[d]}return p[h[h.length-1]]=r,r}return o}}();var o=e.fn.fluxui.settings={debug:!1,defaultTransform:{duration:300,easing:"linearTween",after:"stop"}},u=e.fn.fluxui.log=function(e){if(this.settings.debug)if(!window.console||!window.console.log)alert(e);else{var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}}})(jQuery),function(e,t,n){"$:nomunge";function c(){s=t[o](function(){r.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,a);(n!==i.w||r!==i.h)&&t.trigger(u,[i.w=n,i.h=r])}),c()},i[f])}var r=e([]),i=e.resize=e.extend(e.resize,{}),s,o="setTimeout",u="resize",a=u+"-special-event",f="delay",l="throttleWindow";i[f]=250,i[l]=!0,e.event.special[u]={setup:function(){if(!i[l]&&this[o])return!1;var t=e(this);r=r.add(t),e.data(this,a,{w:t.width(),h:t.height()}),r.length===1&&c()},teardown:function(){if(!i[l]&&this[o])return!1;var t=e(this);r=r.not(t),t.removeData(a),r.length||clearTimeout(s)},add:function(t){function s(t,i,s){var o=e(this),u=e.data(this,a);u.w=i!==n?i:o.width(),u.h=s!==n?s:o.height(),r.apply(this,arguments)}if(!i[l]&&this[o])return!1;var r;if(e.isFunction(t))return r=t,s;r=t.handler,t.handler=s}}}(jQuery,this),$(window).load(function(){$.fn.fluxui.evt().dispatch(this,"app.loaded")}),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class;i.create({namespace:"core",statics:{serverPath:"http://50.97.32.67/",preload:function(t){for(a in t)e("<img/>")[0].src=t[a].url},nextMovieCounter:function(){return n.counter=n.counter||0,n.counter++},nextElementCounter:function(){return n.elmCounter=n.elmCounter||0,n.elmCounter++},htmlEncode:function(t){return e("<div/>").text(t).html()},htmlDecode:function(t){return e("<div/>").html(t).text()},clone:function(t){return!t||e.isFunction(t)?null:typeof t=="string"||!isNaN(t)||t==1||t==0?t:e.extend(!0,{},t)},map:function(e,t){var n=e.length;if(typeof t!="function")throw new TypeError;var r=new Array(n),i=arguments[2];for(var s=0;s<n;s++)s in e&&(r[s]=t.call(i,e[s],s,e));return r},processElement:function(e,n){t.core.map(e.getChildren(),function(e){n(e),t.core.processElement(e,n)})},indexOf:function(e,n){if(!t.core.isArray(e))return!1;for(var r=0;r<e.length;r++)if(e[r]==n)return!0;return!1},isObject:function(e){return e===Object(e)},isArray:function(e){return e?e.constructor==Array:!1},isString:function(e){return typeof e=="string"},isColor:function(e){return!!e&&t.core.isArray(e.colors)&&e.colors.length>0},isEmpty:function(e){if(t.core.isArray(e)||t.core.isString(e))return e.length===0;for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},isURL:function(e){var t=new RegExp("^(http://|https://|www.){1}([0-9A-Za-z]+.)");return t.test(e)?!0:!1},isEqual:function(e,n){if(t.core.isString(e))return e==n;if(!isNaN(e))return e==n;if(e===!0)return e==n;if(e===!1)return e==n;var r;for(r in e)if(typeof n[r]=="undefined")return!1;for(r in e)if(e[r])switch(typeof e[r]){case"object":if(!t.core.isEqual(e[r],n[r]))return!1;break;case"function":if(typeof n[r]=="undefined"||e[r].toString()!=n[r].toString())return!1;break;default:if(e[r]!=n[r])return!1}else if(n[r])return!1;for(r in n)if(!e||typeof e[r]=="undefined")return!1;return!0}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class;i.create({namespace:"events.dispatcher",fields:{delimiter:".",wildcard:"*",_stack:{}},methods:{addListener:function(e,n){var r=t.events.dispatcher.getInstance()._getNamespaceSegment(e);this.hasListener(e,n)||r._handlers.push(n)},addListeners:function(e){for(var t in e)e.hasOwnProperty(t)&&this.addListener(t,e[t])},removeListener:function(e,n){var r=t.events.dispatcher.getInstance()._getNamespaceSegment(e);$pntr._handlers||($pntr._handlers=[]);for(var i=0;i<$pntr._handlers.length;i++)if($pntr._handlers[i]==n){$pntr._handlers.splice(i);return}},hasListener:function(e,n){if(!n||typeof n!="function")throw"Event handler must be supplied as a function";var r=t.events.dispatcher.getInstance()._getNamespaceSegment(e);r._handlers||(r._handlers=[]);var i=!1;for(var s=0;s<r._handlers.length;s++)r._handlers[s]==n&&(i=!0);return i},dispatch:function(e,n){var r=Array.prototype.slice.call(arguments);r.shift(),t.events.dispatcher.getInstance()._dispatch.apply(e,r)},_dispatch:function(e){var n=t.events.dispatcher.getInstance()._getNamespaceSegment(e,!0),r=Array.prototype.slice.call(arguments,0);for(var i=0;i<n.length;i++)for(var s=0;s<n[i]._handlers.length;s++)n[i]._handlers[s].apply(arguments.caller,r)},bind:function(e,n,r){var i=t.events.dispatcher.getInstance();e.bind(n,function(){var t=Array.prototype.slice.call(arguments);t.unshift(r),i._dispatch.apply(e,t)})},unbind:function(e,t){e.unbind(t)},_getNamespaceSegment:function(e,n,r){var i=t.core.isString(e)?e.split(this.delimiter):t.core.isArray(e)?e:null;if(!i)throw"Event listener assigned to unknown type";var s=this._stack;for(var o=0;o<i.length;o++){if(!t.core.isString(i[o]))throw"Event identifier segment not a string value";if(i[o]=="_handlers"||i[o]==this.wildcard&&o<i.length-1)throw"Invalid name used in event namespace.";s[i[o]]||(s[i[o]]={}),s=s[i[o]]}s._handlers||(s._handlers=[]);if(n){if(!r||!t.core.isArray(r))r=[];return r.push(s),i[i.length-1]==this.wildcard&&i.pop(),i.length>0&&(i.pop(),i.push(this.wildcard),this._getNamespaceSegment(i,n,r)),r}return s}},statics:{_instance:null,getInstance:function(){return t.events.dispatcher._instance=t.events.dispatcher._instance||new t.events.dispatcher,t.events.dispatcher._instance}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,s=e.fn.fluxui.$class;s.create({namespace:"color",statics:{toRGB:function(e){if(!t.core.isColor(e))return null;var n=t.color.hexToRGBA(t.color.toHex(e));return[n[0],n[1],n[2]]},toRGBA:function(e){if(!t.core.isColor(e))return null;var n=t.color.hexToRGBA(t.color.toHex(e));return n},toHex:function(e,n,r){if(!t.core.isColor(e))return null;var i=t.color.base16,s=e.colors[0].rgb,o=i(Math.round(e.colors[0].opacity*255));return!n||(r?s=o+s:s+=o),s.substr(0,1)!="#"&&(s="#"+s),s},base16:function(e){return 16>parseInt(e)?"0"+e.toString(16):e.toString(16)},base10:function(e){return e=/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e),Math.isNaN(Number(e))?parseInt(e[1],16)<<16+parseInt(e[2],16)<<8+parseInt(e[3],16):e},hexToRGBA:function(e){return e=/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]:e},objToRGBA:function(e){if(e=="transparent")return[255,255,255,0];if(t.core.isArray(e))return e;var n=t.color.hexToRGBA(t.core.isColor(e)?t.color.toHex(e):e);return n?n:(n=t.color.RGBAStringToRGBA(e))?n:[255,255,255,150]},fromRGB:function(e){return!e||!t.core.isArray(e)||e.length<3?{type:"solid",colors:[{rgb:"#999999",opacity:1}]}:{type:"solid",colors:[{rgb:t.color.RGBAToHex(e),opacity:1}]}},fromRGBA:function(e){return!e||!t.core.isArray(e)||e.length<3?{type:"solid",colors:[{rgb:"#999999",opacity:1}]}:{type:"solid",colors:[{rgb:t.color.RGBAToHex(e),opacity:isNaN(e[3])?1:e[3]/255}]}},fromARGB:function(e){if(!e||!t.core.isArray(e)||e.length<3)return{type:"solid",colors:[{rgb:"#999999",opacity:1}]};var n=e.length>3&&!isNaN(e[3])?e.shift():255;return{type:"solid",colors:[{rgb:t.color.RGBAToHex(e),opacity:n}]}},fromHex:function(e){if(t.core.isString(e))return{type:"solid",colors:[{rgb:e,opacity:1}]}},RGBAToRGBAString:function(e){if(t.core.isArray(e)){var n=new Array;for(i=0;i<e.length&&i<4;i++)n.push(i==3?e[i]/255:e[i]);return"rgba("+n.join()+")"}},RGBAStringToRGBA:function(e){return e=/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/.exec(e),e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseInt(void 0==e[4]?255:e[4],10)]:e},RGBAToHex:function(e,n){if(t.core.isArray(e)){var r=[];for(var i=0;i<e.length;i++)r[i]=e[i];if(r.length>3){var s=r.pop();n&&r.unshift(s)}var o=new Array;for(i in r)isNaN(parseInt(r[i]))||o.push(t.color.base16(r[i]));return"#"+o.join("")}}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class;i.create({namespace:"style",statics:{normaliseRotation:function(t,n,r){var i=function(e){return e*Math.PI/180},s=function(e){return e*180/Math.PI},o=t>=0?Math.PI*t/180:Math.PI*(360+t)/180,u=Math.cos(o),a=Math.sin(o),f=parseInt(e.browser.version,10);if(e.browser.msie&&f<9){var l=function(e,t,n,r){var i=n-e,s=r-t,o=Math.sqrt(i*i+s*s);return o},c=Math.atan2(r/2,n/2),h=l(0,r,n/2,r/2),p=h*Math.cos(-c+i(t)),d=r+h*Math.sin(-c+i(t)),v=n/2-p,m=r-d;return console.log(c+t," ",v," ",m),{filter:"progid:DXImageTransform.Microsoft.Matrix(M11="+u+",M12="+ -a+",M21="+a+",M22="+u+",sizingMethod='auto expand')","-ms-filter":"progid:DXImageTransform.Microsoft.Matrix(M11="+u+",M12="+ -a+",M21="+a+",M22="+u+",SizingMethod='auto expand')","z-index":1}}return{"-moz-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"}},normaliseBorder:function(e){return{"border-radius":e,"-moz-border-radius":e,"-webkit-border-radius":e,"-khtml-border-radius":e}},normaliseColorPos:function(e){if(!e||!e.length)return null;for(var t=0;t<e.length;t++)if(isNaN(e[t].pos)){var n=0;e.length==1?n=e[t].pos=0:t==e.length-1?n=e[t].pos=1:n=e[t].pos=(1-n)/(e.length-(t-1))+n}else n=e[t].pos},normaliseFill:function(e){e=t.core.clone(e);var n=e.type||"solid",r=e.direction||270,i=e.colors;isNaN(r)||(r%=360),i.length==1&&(i[1]=i[0]);var s=t.color.RGBAToHex(t.color.objToRGBA(i[0].rgb),!0),o=i[i.length-1].rgb,u=t.color.RGBAToHex(t.color.objToRGBA(o),!0),a="",f=null,l="",c="left top, left bottom";switch(parseInt(r)){case 0:c="left top, right top";break;case 315:c="left top, right bottom";break;case 270:c="left top, left bottom";break;case 225:c="right top, left bottom";break;case 180:c="right top, left top";break;case 135:c="right bottom, left top";break;case 90:c="left bottom, left top";break;case 45:c="left bottom, right top";break;default:c="center center, 0px, center center"}i.sort(function(e,t){return!e.pos||!t.pos||e.pos<t.pos?-1:e.pos>t.pos?1:0}),t.style.normaliseColorPos(i);for(var h=0;h<i.length;h++){f=t.color.hexToRGBA(i[h].rgb);if(!f)throw console.log(i),new Error("Could not convert color");f[3]=Math.round(i[h].opacity*255||255),a+=t.color.RGBAToRGBAString(f)+" "+Math.round(i[h].pos*100)+"%",l+="color-stop("+Math.round(i[h].pos*100)+"%"+" "+t.color.RGBAToHex(f)+")",h<i.length-1&&(a+=", ",l+=", ")}var p={};switch(n){case"radial":c="center center, 0px, center center",p.background=["-webkit-radial-gradient(center, ellipse cover, "+a+")"];break;case"solid":f=t.color.hexToRGBA(i[0].rgb),f[3]=i[0].opacity*255||255,u=s,a=t.color.RGBAToRGBAString(f)+" 0%, "+t.color.RGBAToRGBAString(f)+" 100% ",l="color-stop(0% "+t.color.RGBAToHex(f)+"), color-stop(100%"+" "+t.color.RGBAToHex(f)+")";default:p.background=["-webkit-linear-gradient("+r+"deg, "+a+")"]}return p.filter="progid:DXImageTransform.Microsoft.gradient(startColorStr='"+s+"', EndColorStr='"+u+"')",p.background.unshift("-webkit-gradient("+(r=="center"?"radial":"linear")+", "+c+", "+l+")"),p.background.push("-moz-linear-gradient("+r+"deg, "+a+")"),p.background.push("-ms-linear-gradient("+r+"deg, "+a+")"),p.background.push("-o-linear-gradient("+r+"deg, "+a+")"),p.background.push("linear-gradient("+r+"deg, "+a+")"),p},getPropertyDiff:function(n,r,i){var s=!1;n||(n={});for(var o in r)if(r.hasOwnProperty(o)){if(!n[o]&&typeof r[o]!="object"){i[o]=r[o],s=!0;continue}if(typeof r[o]=="object"){var u={};t.style.getPropertyDiff(n[o],r[o],u)&&(i[o]||(i[o]={}),o=="fill"?e.extend(!0,i[o],r[o]):e.extend(!0,i[o],u),s=!0)}else n[o]!=r[o]&&(i[o]=r[o],s=!0)}return s},canAnimate:function(e){return t.core.indexOf(["rotate","opacity","color","fill","background-color","border-color","border-width","border-radius","line-height","font-size","width","height","top","left"],e)},isColor:function(e){return t.core.indexOf(["color","fill","background-color","border-color"],e)},isNumeric:function(e){return t.core.indexOf(["rotate","opacity","border-width","border-radius","line-height","font-size","width","height","min-width","min-height","top","left"],e)}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class;e.fn.fluxui.$class.create({namespace:"timer",statics:{timerID:0,timers:[],start:function(){if(t.timer.timerID)return;(function(){for(var e=0;e<t.timer.timers.length;e++)t.timer.timers[e]()===!1&&(t.timer.timers.splice(e,1),e--);t.timer.timerID=setTimeout(arguments.callee,0)})()},stop:function(){clearTimeout(t.timer.timerID),t.timer.timerID=0},add:function(e){t.timer.timers.push(e),t.timer.start()}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,s=e.fn.fluxui.$class;s.create({namespace:"tween",statics:{percent:0,getColorTransition:function(e,n,r){var i=t.color.hexToRGBA(e),s=t.color.hexToRGBA(n),o=i[0],u=i[1],a=i[2],f=s[0],l=s[1],c=s[2];return t.color.RGBAToHex([Math.max(Math.min(Math.floor(o+r*(f-o)+.5),255),0),Math.max(Math.min(Math.floor(u+r*(l-u)+.5),255),0),Math.max(Math.min(Math.floor(a+r*(c-a)+.5),255),0)])},getColorObjTransition:function(e,n,r){var i,s={type:n.type,colors:[],direction:n.direction},o,u;if(!e||!t.core.isColor(e))return n;if(!n||!t.core.isColor(n))return e;for(i=0;i<Math.max(e.colors.length,n.colors.length);i++){o=e.colors.length>i?e.colors[i]:e.colors[e.colors.length-1],cc1=t.color.hexToRGBA(o.rgb);var a=cc1[0],f=cc1[1],l=cc1[2],c=o.opacity,h=o.pos;u=n.colors.length>i?n.colors[i]:n.colors[n.colors.length-1],cc2=t.color.hexToRGBA(u.rgb);var p=cc2[0],d=cc2[1],v=cc2[2],m=u.opacity,g=u.pos,y=t.color.RGBAToHex([Math.max(Math.min(Math.floor(a+r*(p-a)+.5),255),0),Math.max(Math.min(Math.floor(f+r*(d-f)+.5),255),0),Math.max(Math.min(Math.floor(l+r*(v-l)+.5),255),0)]);s.colors.push({rgb:y,opacity:c+r*(m-c),pos:h+r*(g-h)})}return!isNaN(parseInt(e.direction))&&!isNaN(parseInt(n.direction))&&(s.direction=parseInt(e.direction)+r*(parseInt(n.direction)-parseInt(e.direction))),s},to:function(e,n,r){if(!r)return;if(!r.to&&!r.to.props){r.callback||r.callback.apply(e,r.args);return}var s=r.callback||function(){},o=r.easing||"linearTween",u=r.args||[],a=t.core.clone(r.to.props),f=t.core.clone(r.from.props),l=[],c=[];d=n||0;var h=t.tween[o];for(i in a)a.hasOwnProperty(i)&&(t.style.isColor(i)==1?c.push(i):t.style.isNumeric(i)==1&&l.push(i));var p=(new Date).getTime(),v=function(){var r,i,o,v=(new Date).getTime()-p;v>d&&(v=d);for(r=0;r<l.length;r++){o=l[r];if(isNaN(a[o])||!isNaN(f[o])&&f[o]==a[o])continue;t.tween.percent=h(v,0,1,n),e.style(o,Math.floor(parseFloat(f[o])+t.tween.percent*(a[o]-f[o])))}for(r=0;r<c.length;r++){o=c[r];if(!a[o]||!!f[o]&&t.core.isEqual(f[o],a[o]))continue;t.tween.percent=h(v,0,1,n),t.core.isString(f[o])&&t.core.isString(a[o])?i=t.tween.getColorTransition(f[o],a[o],t.tween.percent):(t.core.isString(f[o])&&(f[o]={rgb:f[o],pos:.1,opacity:1}),t.core.isString(a[o])&&(a[o]={rgb:a[o],pos:.1,opacity:1}),t.style.normaliseColorPos(f[o]),t.style.normaliseColorPos(a[o]),i=t.tween.getColorObjTransition(f[o],a[o],t.tween.percent)),e.style(o,i)}return v>=d?(s.apply(e,u),t.tween.percent=1,!1):!0};t.timer.add(v),t.timer.start()},linearTween:function(e,t,n,r){return n*e/r+t},easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return e==0?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,n,r){return e==0?t:e==r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i=1.70158,s=0,o=n;if(e==0)return t;if((e/=r)==1)return t+n;s||(s=r*.3);if(o<Math.abs(n)){o=n;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(n/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*2*Math.PI/s))+t},easeOutElastic:function(e,t,n,r){var i=1.70158,s=0,o=n;if(e==0)return t;if((e/=r)==1)return t+n;s||(s=r*.3);if(o<Math.abs(n)){o=n;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*r-i)*2*Math.PI/s)+n+t},easeInOutElastic:function(e,t,n,r){var i=1.70158,s=0,o=n;if(e==0)return t;if((e/=r/2)==2)return t+n;s||(s=r*.3*1.5);if(o<Math.abs(n)){o=n;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(n/o);return e<1?-0.5*o*Math.pow(2,10*(e-=1))*Math.sin((e*r-i)*2*Math.PI/s)+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-i)*2*Math.PI/s)*.5+n+t},easeInBack:function(e,t,n,r,i){return i==undefined&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return i==undefined&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){return i==undefined&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},easeInBounce:function(e,n,r,i){return r-t.tween.easeOutBounce(i-e,0,r,i)+n},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,n,r,i){return e<i/2?t.tween.easeInBounce(e*2,0,r,i)*.5+n:t.tween.easeOutBounce(e*2-i,0,r,i)*.5+r*.5+n}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s="initial";e.fn.fluxui.$class.create({namespace:"state",constructor:function(e,n){this.initial=e?t.core.clone(e):{props:{},attr:{}},this.states=n?t.core.clone(n):{};var r;for(r in this.states)this.states.hasOwnProperty(r)&&(this.states[r].props=this.states[r].props||{},this.states[r].attr=this.states[r].attr||{});this.initial.attr=this.initial.attr||{},this.initial.props=this.initial.props||{}},statics:{counter:0},fields:{initial:null,states:null,state:s},methods:{currentState:function(e){return!e||(this.state=e),e},exists:function(e){return e==s?!0:!!this.states[e]},addState:function(e){if(e==s)return;this.states[e]={},this.states[e].props={},this.states[e].attr={}},getCurrentStateData:function(){return this.getStateData(this.state)},getStateData:function(n){var r=s,i=t.core.clone(this[r]);return n!=r&&(e.extend(!0,i.attr,this.states[n].attr),e.extend(!0,i.props,this.states[n].props)),i},style:function(e,n){var r=this.initial;if(this.state==s)return n!=null&&(r.props[e]=t.core.clone(n)),r.props[e];this.states[this.state]||(this.states[this.state]={props:{},attr:{}});var i=this.states[this.state];return n!=null&&(i.props[e]=t.core.isEqual(r.props[e],n)?null:t.core.clone(n)),i.props[e]||r.props[e]},setAttributeOnCurrentState:function(e,t){this.setAttributeOnState(this.state,e,t)},setAttributeOnAllStates:function(e,t){for(var n in this.states)this.states.hasOwnProperty(n)&&this.setAttributeOnState(n,e,null);this.setAttributeOnState(s,e,t)},setAttributeOnState:function(e,t,n){e==s?this.initial.attr[t]=n:this.states[e].attr[t]=n}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s=function(e,t){var n=this.toast,r,i,s=document,o=s.getElementsByTagName("head")[0],u=this.setTimeout,a="createElement",f="appendChild",l="addEventListener",c="onreadystatechange",h="styleSheet",p,d,v=10,m=function(){--d<1&&t&&t()===!1&&u(m,v)},g=function(e){e.sheet||e[h]?m():u(function(){g(e)},v)},y=function(){/ded|co/.test(this.readyState)&&m()},b=function(e,t){return function(){e&&e(),t()}};if(o||u(n,v)){e===""+e&&(e=[e]),p=d=e.length;while(r=e[--p])r.pop?n(r[0],b(r[1],m)):/\.css$/.test(r)?(i=s[a]("link"),i.rel=h,i.href=r,o[f](i),g(i)):(i=s[a]("script"),i.src=r,o[f](i),i[c]===null?i[c]=y:i.onload=m)}};i.create({namespace:"loader",statics:{load:function(e,t){s(e,t)},classesToLoad:function(e,n){n=n||[],t.display.element.classLoaded(e.type)||n.push(t.core.serverPath+"components/"+e.type+"/fluxui.class.js");if(!!e.children){var r=e.children;for(var i=0;i<r.keys.length;i++)t.loader.classesToLoad(r.hash[r.keys[i]],n)}return n}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class;e.fn.fluxui.$class.create({namespace:"serialiser",statics:{parse:function(e,n,r,i,s){n.type||n.type=="display.element";var o=t.display.element.make(n.type,e,n,s),u,a,f;o.applyStateStyles(),!!r&&!!r.addChild&&r.addChild(o.node);if(!!n.children)for(var l=0;l<n.children.keys.length;l++)u=n.children.keys[l],a=n.children.hash[u],f=t.serialiser.parse(u,a,o);return i?i.call(o):!o.initialise||o.initialise(e,n),o.applyStateAttributes(),!o.actions||o.actions.applyBehaviors(),o},encode:function(e,n){n||(n={}),n.type=e.entity(),n.initial=t.core.clone(e.states.initial),n.states=t.core.clone(e.states.states),n.frames=t.core.clone(e.frames),n.behavior=t.core.clone(e.actions.behavior),n.bind=t.core.clone(e.actions.bind),n.data=t.core.clone(e.data);var r,i;if(e.numChildren()>0){i=n.children={keys:e.getChildIds(),hash:{}},r=e.getChildren();for(var s=0;s<e.numChildren();s++)t.serialiser.encode(r[s],i.hash[r[s].fluxid()]={})}return n}}})}(jQuery,this),function(e){var n=e.fn.fluxui.types,r=e.fn.fluxui.fdata,i=e.fn.fluxui.assets,s=e.fn.fluxui.$class,o=n.events.dispatcher.getInstance();s.create({namespace:"selection",constructor:function(){this._targets=[],this.targetsRelativePos={x:[],y:[]},this.touches={}},methods:{add:function(t){if(!n.core.isArray(t))this.indexOf(t)<0&&this._targets.push(e('[fluxid="'+t+'"]'));else for(var r=0;r<t.length;r++)this.indexOf(t[r])<0&&this._targets.push(e('[fluxid="'+t[r]+'"]'))},remove:function(e){if(!n.core.isArray(e))this._targets.splice(this.indexOf(e),1);else for(var t=0;t<e.length;t++)this._targets.splice(this.indexOf(e[t]),1)},indexOf:function(e){for(var t=0;t<this.length();t++)if(this._targets[t].attr("fluxid")==e)return t;return-1},sort:function(e,n){var r=this._targets,i=[];r[0].attr("fluxid")!==n?i.splice(0,0,r[0]):i.splice(0,0,r[1]);if(e==="left")for(t in r)if(r[t].attr("fluxid")!==n)for(nt in i){if(parseInt(r[t].css("left"))<parseInt(i[nt].css("left"))){i.splice(nt,0,r[t]);break}nt==i.length-1&&t!=0&&i.splice(nt+1,0,r[t])}if(e==="center.x")for(t in r)if(r[t].attr("fluxid")!==n)for(nt in i){if(parseInt(r[t].css("left"))+r[t].outerWidth()/2<parseInt(i[nt].css("left"))+i[nt].outerWidth()/2){i.splice(nt,0,r[t]);break}nt==i.length-1&&t!=0&&i.splice(nt+1,0,r[t])}if(e==="right")for(t in r)if(r[t].attr("fluxid")!==n)for(nt in i){if(parseInt(r[t].css("left"))+r[t].outerWidth()<parseInt(i[nt].css("left"))+i[nt].outerWidth()){i.splice(nt,0,r[t]);break}nt==i.length-1&&t!=0&&i.splice(nt+1,0,r[t])}if(e==="top")for(t in r)if(r[t].attr("fluxid")!==n)for(nt in i){if(parseInt(r[t].css("top"))<parseInt(i[nt].css("top"))){i.splice(nt,0,r[t]);break}nt==i.length-1&&t!=0&&i.splice(nt+1,0,r[t])}if(e==="center.y")for(t in r)if(r[t].attr("fluxid")!==n)for(nt in i){if(parseInt(r[t].css("top"))+r[t].outerHeight()/2<parseInt(i[nt].css("top"))+i[nt].outerHeight()/2){i.splice(nt,0,r[t]);break}nt==i.length-1&&t!=0&&i.splice(nt+1,0,r[t])}if(e==="bottom")for(t in r)if(r[t].attr("fluxid")!==n)for(nt in i){if(parseInt(r[t].css("top"))+r[t].outerHeight()<parseInt(i[nt].css("top"))+i[nt].outerHeight()){i.splice(nt,0,r[t]);break}nt==i.length-1&&t!=0&&i.splice(nt+1,0,r[t])}return i},select:function(e,t){(!e||e===!1)&&t!="overlay"&&this.clear(),this.add(t)},clear:function(){this._targets=[],this.targetsRelativePos={x:[],y:[]}},targets:function(e){return isNaN(e)?this._targets.slice(0):this._targets[e]},length:function(){return this._targets.length}},statics:{getInstance:function(){var e=n.selection;return e._inst||(e._inst=new e),e._inst},initGlobalSelection:function(){n.display.element.prototype.fui_selectable=!1,n.display.element.fui_selectedItem=null,n.display.element.prototype.fui_select=function(e){e&&e.stopPropagation(),window.event&&(window.event.cancelBubble=!0);var t=n.display.element.getInstance(this);if(t.fui_selectable===!0){var r=t.$node().parent().attr("fluxid");if(r=="stage"||r=="view"){var i=n.display.element.fui_selectedItem;n.display.element.fui_selectedItem=this,o.dispatch(this,"stage.element.selected",i,this,e||window.event)}else t.$node().parent().trigger("click")}}}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,s=e.fn.fluxui.$class,o=t.selection.getInstance(),u=t.events.dispatcher.getInstance();s.create({namespace:"interaction",constructor:function(e,n,r){this.inst=e,this.behavior=t.core.clone(n)||{},this.bind=t.core.clone(r)||{},this.keymap={},this.keyEvent={},this.pressed={},this.shiftpressed={},this.ctrlpressed={},this.released={},this.toggled={}},methods:{applyBehaviors:function(){var t=this.behavior;if(!!t)for(var n in t)t.hasOwnProperty(n)&&(!t[n].action||this.inst.$node().bind(n,{caller:this,event:t[n]},function(e){e.data.caller.doBehavior(e.data.event.action,e.data.event,e)}),!t[n].event||e.fn.fluxui.evt().bind(this.inst.$node(),n,t[n].event))},doBehavior:function(e,t,n){this.inst[e](t,n)},initDrag:function(e,n){t.interaction.eventSupport("touchstart")===!0?(e.$node().unbind("touchstart",this.dragHandler),e.$node().bind("touchstart",{params:n,caller:e,mobile:!0},this.dragHandler)):(e.$node().unbind("mousedown",this.dragHandler),e.$node().bind("mousedown",{params:n,caller:e},this.dragHandler))},dragHandler:function(t){var n=t.shiftKey,r=t.data,i=r.caller,s=r.mobile,u=i.mousePosition(t),a=typeof r.params=="object"?r.params:{},f=a.target;f||(f=i.fluxid()),s!==!0&&t.preventDefault(),o.select(n,f.toString());if(n===!1){for(var f=0;f<o.length();f++)o.targetsRelativePos.x[f]=u.x-parseInt(o.targets(f).css("left")),o.targetsRelativePos.y[f]=u.y-parseInt(o.targets(f).css("top")),o.targets(f).trigger("dragged");var l={c:i,sk:n};s===!0?(e("body").bind("touchmove",l,i.actions.moveHandler),e("body").bind("touchend",l,i.actions.dropHandler)):(e("body").bind("mousemove",l,i.actions.moveHandler),e("body").bind("mouseup",l,i.actions.dropHandler))}t&&t.stopPropagation(),window.event&&(window.event.cancelBubble=!0)},moveHandler:function(t){t.preventDefault();var n=t.data.c,r=n.mousePosition(t);e("body").css("cursor","move");var i=n.actions.move.call(n,r);i==="drop"&&n.actions.dropHandler(t),u.dispatch(this,"stage.element.change")},dropHandler:function(t){var n=t.data,r=n.c,s=n.sk;if(s===!1){for(var a=0;a<o.length();a++)o.targets(a).fadeTo(0,1);e("body").unbind("touchmove",this.moveHandler),e("body").unbind("touchstop",this.dropHandler),e("body").unbind("mousemove",this.moveHandler),e("body").unbind("mouseup",this.dropHandler),e("body").css("cursor","default")}t&&t.stopPropagation(),window.event&&(window.event.cancelBubble=!0);if(t.ctrlKey===!0)for(i=0;i<12;i++)r.move(!1,!1,{x:40,y:-4});u.dispatch(this,"stage.element.dropped")},move:function(e,n){var r,i;if(e!==!1)for(var s=0;s<o.length();s++){var u=t.display.element.getInstance(o.targets(s));u.$node().fadeTo(0,.6),r=e.x-o.targetsRelativePos.x[s],i=e.y-o.targetsRelativePos.y[s],isNaN(r)||u.x(r,1),isNaN(i)||u.y(i,1)}else if(n)for(var s=0;s<o.length();s++){var u=t.display.element.getInstance(o.targets(s));r=parseInt(o.targets(s).css("left"))+n.x,i=parseInt(o.targets(s).css("top"))+n.y,isNaN(r)||u.x(r,1),isNaN(i)||u.y(i,1)}},stopPropogation:function(e){e&&(e.stopPropagation(),e.preventDefault()),window.event&&(window.event.cancelBubble=!0)},initKeys:function(){var t=this;e(window).keydown(function(e){t.keyDown(e)&&t.stopPropogation(e)}),e(window).keyup(function(e){t.keyUp(e)&&t.stopPropogation(e)})},bindKey:function(e,t){this.keymap[e]=t},unbindKey:function(e){this.keymap[e]=null,this.released[this.keymap[e]]=!0},isPressed:function(e){return this.pressed[e]},hasReleased:function(e){return this.released[e]},hasShiftPressed:function(e){return this.shiftpressed[e]},hasCtrlPressed:function(e){return this.ctrlpressed[e]},clearKeys:function(){for(var e in this.released)this.keyEvent[e]=!1,this.toggled[e]=!1;this.released={},this.pressed={},this.shiftpressed={},this.ctrlpressed={}},keyDown:function(e){if(e.target.type=="text"||e.target.type=="password"||e.target.type=="textarea"||e.type!="keydown")return;var t=this.keymap[e.keyCode];return!t||(this.keyEvent[t]=!0,this.toggled[t]||(this.pressed[t]=!0,this.toggled[t]=!0,e.shiftKey&&(this.shiftpressed[t]=!0),e.ctrlKey&&(this.ctrlpressed[t]=!0)),this.stopPropogation(),u.dispatch(this,"events.keys.press",t,e.shiftKey,e.ctrlKey)),!0},keyUp:function(e){if(e.target.type=="text"||e.target.type=="password"||e.type=="keyup")return;var t=this.keyEvent[e.keyCode];return!t||(this.released[t]=!0,this.stopPropogation(),u.dispatch(this,"events.keys.release",t)),!0}},statics:{eventSupport:function(e){var t=document.createElement("div");e="on"+e;var n=e in t;return n||(t.setAttribute(e,"return;"),n=typeof t[e]=="function"),t=null,n},keys:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,DIGITS:[48,49,50,51,52,53,54,55,56,57],A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,PLUS:187,COMMA:188,MINUS:189,PERIOD:190}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s=t.events.dispatcher.getInstance(),o="initial";i.create({namespace:"display.element",constructor:function(e,n,r){this._fluxid=e,this.states=new t.state(n.initial,n.states),this.frames=t.core.clone(n.frames)||{keys:[],hash:{}},this.data=t.core.clone(n.data)||{},this.actions=new t.interaction(this,n.behavior,n.bind),this.makeNode(r),this.__container=this,this.__bg=this,this.__bgOuter=this,this.__border=this,this._children=[],this.propStore={}},fields:{markup:"<div />",states:null,frames:null,frame:o,propStore:null,editableFrames:!0},props:{position:"absolute",top:0,left:0,padding:0,margin:0,"box-sizing":"border-box","vertical-align":"baseline","word-wrap":"break-word","max-width":"none","max-height":"none",zoom:1,overflow:"hidden",border:"solid","border-radius":0,"border-width":0,"border-color":"#000000","border-style":"solid"},methods:{fluxid:function(e){return!e||this.$node().attr("fluxid",e),this.$node().attr("fluxid")},entity:function(e){return!e||this.$node().attr("entity",e),this.$node().attr("entity")},$node:function(){return e(this.node)},makeNode:function(t){var n=this.states.getCurrentStateData(),r=t?t:e(this.markup);return r.data("currentInstance",this),this.node=r.get(0),this.entity(this.className),this.fluxid(this._fluxid),this.node},addChild:function(e){var n=t.display.element.getInstance(e);return this.addChildFromClass(n)},addChildFromClass:function(e){return this.__container||console.log(this.fluxui(),this.entity()),this.__container.$node().append(e.$node()),this._children.push(e),e._parent=this,e},getChildAt:function(e){var n=this.__container.$node().children().get(e);if(!!n)return t.display.element.getInstance(n)},getChildrenById:function(e){var n=this.__container.$node().find("*[fluxid='"+e+"']");if(!!n)if(t.core.isArray(n)&&n.length>0)for(var r=0;r<n.length;r++)n[r]=t.display.element.getInstance(n[r]);else n=[t.display.element.getInstance(n)];return n},getChildById:function(e){return this.getChildrenById(e)[0]},getChildren:function(e){e||(e="*");var n,r=[],i=this.__container.$node().children(e);if(i.length>0)for(var s=0;s<i.length;s++)n=t.display.element.getInstance(i[s]),!n||r.push(n);return r},getChildIds:function(){var e=[],t=this.getChildren();for(var n=0;n<t.length;n++)e.push(t[n].fluxid());return e},numChildren:function(){return this.getChildren().length},removeChild:function(n){var r=t.display.element.getInstance(n);return this._children.splice(n.index(),1),e(n).remove(),r},removeChildAt:function(e){var t=this.getChildAt(e);this._children.splice(e,1);if(!t)return;return t.$node().remove(),t},remove:function(){this.$node().remove()},empty:function(){this._children=[],this.__container.$node().empty()},$parent:function(){return this.$node().parent()},parent:function(){return this._parent},numFrames:function(){return this.frames.keys.length},changeFrame:function(n,r){if(n==this.frame||n!=o&&(!t.core.indexOf(this.frames.keys,n)||this.numFrames()<1)||this.numChildren()<1){!r||r.call(this,!1);return}var i=this.frames.hash[n]||{},s=i.duration||e.fn.fluxui.settings.defaultTransform.duration,u=i.easing||e.fn.fluxui.settings.defaultTransform.easing,a=i.after||e.fn.fluxui.settings.defaultTransform.after,f=this.getChildren(),l=f.length,c=function(){l--,l==0&&!!r&&r.call(this,!0)};this.frame=n;for(var h=0;h<f.length;h++)f[h].updateState(n,s,u,c)},checkAllChildrenTransitioned:function(){var e=this.getChildren();for(var t=0;t<e.length;t++)if(e[t].states.currentState()!=this.frame)return!1;return!0},gotoPrevFrame:function(){var e,t=this.frames.keys,n;for(n=0;n<t.length;n++)t[n]==this.frame&&(e=n);e=e==0?t.length-1:e-1,this.changeFrame(t[e])},gotoNextFrame:function(){var e,t=this.frames.keys,n;for(n=0;n<t.length;n++)t[n]==this.frame&&(e=n);e=e==t.length-1?0:e+1,this.changeFrame(t[e])},gotoFrame:function(e){if(!e||e=="")return;this.changeFrame(e)},updateState:function(e,n,r,i){this.states.exists(e)||this.states.addState(e);var s=this.states.getStateData(e),o=this.states.getCurrentStateData();s.attr&&this.applyAttributes(s.attr);if(!isNaN(n)&&n>0){var u=this,a=function(){i.call(this)};t.tween.to(this,n,{to:s,from:o,easing:r,callback:a}),u.states.currentState(e)}else s.props&&this.applyStyles(s.props),this.states.currentState(e),i.call(this)},applyStateStyles:function(){var n=t.core.clone(this.props),r=this.states.getCurrentStateData();e.extend(n,r.props||{}),this.applyStyles(n)},applyStyles:function(e){var t=this.$node();for(var n in e)e.hasOwnProperty(n)&&this.style(n,e[n])},style:function(e,n,r){return!!n&&!!r&&this.states.style(e,t.core.clone(n)),e=="border-radius"?this.borderRadiusStyle(n):e=="fill"?this.backgroundStyle(n):e=="rotate"?this.rotationStyle(n):t.style.isColor(e)?this.colorStyle(e,n):isNaN(parseInt(n))?this.stringStyle(e,n):this.numericStyle(e,n)},removeStyle:function(e){!e||this.$node().css(e,"")},numericStyle:function(e,t){return isNaN(parseInt(t))||(t.toString().indexOf("%")>-1?this.$node().css(e,parseInt(t)+"%"):this.$node().css(e,parseInt(t)+"px")),parseInt(this.$node().css(e))},stringStyle:function(e,t){return typeof t=="string"&&t!=""&&this.$node().css(e,t),this.$node().css(e)},colorStyle:function(e,n){return t.core.isString(n)&&(n=t.color.fromHex(n)),t.core.isColor(n)&&this.$node().css(e,t.color.toHex(n)),t.color.fromRGBA(t.color.hexToRGBA(this.$node().css(e)||"#00000000"))},backgroundStyle:function(e){var n="fill";if(!!e&&!!t.core.isColor(e)){e.type=e.type||"solid";var r=t.style.normaliseFill(e);this.__bg.$node().css("filter",r.filter);for(var i=0;i<r.background.length;i++)this.__bg.$node().css("background",r.background[i])}return this.states.style(n)||t.color.fromHex("#999999")},rotationStyle:function(e){var n="rotate";if(!!e&&!isNaN(parseInt(e))){var r=t.style.normaliseRotation(e,this.width(),this.height());for(var i in r)r.hasOwnProperty(i)&&this.$node().css(i,r[i])}return this.states.style(n)||0},borderRadiusStyle:function(e){var n="border-radius";if(!!e&&!isNaN(e)){var r=t.style.normaliseBorder(e);for(var i in r)r.hasOwnProperty(i)&&this.numericStyle(i,r[i]);this.propStore[n]=e}return this.propStore[n]||0},applyStateAttributes:function(){var e=this.states.getCurrentStateData();this.applyAttributes(e.attr)},applyAttributes:function(e){for(var t in e)e.hasOwnProperty(t)&&this.attribute(t,e[t])},attribute:function(e,t,n){if(!!t){!n||this.states.setAttributeOnCurrentState(e,t);switch(e){case"anchor":case"center":case"drag":this[e](t);break;default:this.$node().attr(e,t)}}return this.$node().attr(e)},anchor:function(e){if(e!=null&&t.core.isArray(e)){var e=e.slice(0);switch(e.length){case 1:var n=e[0];e=[n,n,n,n];break;case 2:var n=e[0],r=e[1];e=[n,r,n,r];break;case 3:e[3]=e[2];break;default:}var i=this.$parent(),s=this.$node(),o=this,u=[o.y(),i.width()-o.width()-o.x(),i.height()-o.height()-o.y(),o.x()];i.resize(function(){e[1]!=0&&(e[3]!=0?o.width(i.width()-o.x()-u[1]):o.x(i.width()-o.width()-u[1])),e[2]!=0&&(e[0]!=0?o.height(i.height()-o.y()-u[2]):o.y("y",i.height()-o.height()-u[2]))})}},center:function(e){if(!!e&&t.core.isString(e)){var n=this,r=this.$node(),i=this.parent().$node();i.unbind("resize");if(e=="none")return;i.resize(function(){(e=="horz"||e=="both")&&n.x((i.outerWidth()-r.outerWidth())/2),(e=="vert"||e=="both")&&n.y((i.outerHeight()-r.outerHeight())/2)}),i.trigger("resize")}},drag:function(e){e.ondrag&&(s.unbind(this.$node(),"dragged",e.ondrag),s.bind(this.$node(),"dragged",e.ondrag)),e.ondrop&&(s.unbind(this.$node(),"dropped",e.ondrop),s.bind(this.$node(),"dropped",e.ondrop)),this.actions.initDrag(this,e)},rect:function(e){return!e||(isNaN(e.x)||this.x(e.x),isNaN(e.y)||this.y(e.y),isNaN(e.w)||this.width(e.w),isNaN(e.h)||this.height(e.h)),{x:this.x(),y:this.y(),w:this.width(),h:this.height()}},x:function(e){return parseInt(this.style("left",e,arguments[1]!=null))},y:function(e){return parseInt(this.style("top",e,arguments[1]!=null))},width:function(e){return parseInt(this.style("width",e,arguments[1]!=null))},height:function(e){return parseInt(this.style("height",e,arguments[1]!=null))},visible:function(e){return e=e!=null?e?"inherit":"hidden":null,this.style("visibility",e,arguments[1]!=null)!="hidden"},display:function(e){return e=e!=null?e?"inherit":"none":"inherit",this.style("display",e,arguments[1]!=null)!="none"},mousePosition:function(e){var n=e?e:window.event,r=t.interaction.eventSupport("touchstart");return{x:r===!0?n.originalEvent.touches[0].pageX:n.pageX,y:r===!0?n.originalEvent.touches[0].pageY:n.pageY}},broadcast:function(){s.dispatch(this,"events."+this.className+".changed",this)}},statics:{getInstance:function(t){return e(t).data("currentInstance")},classLoaded:function(e){var n=e.split("."),r=t;for(var i=0;i<n.length;i++){r=r[n[i]];if(!r)return!1}return!0},make:function(e,n,r,i){if(!n||n=="")n=e+"_"+t.core.nextElementCounter();r||(r={initial:{},states:{}});var s=e.split("."),o=t;for(var u=0;u<s.length;u++)o=o[s[u]];return new o(n,r,i)}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s=t.events.dispatcher.getInstance(),o=i.create({namespace:"display.component",inherits:t.display.element,constructor:function(e,t){o.Super.constructor.call(this,e,t)},methods:{broadcast:function(){s.dispatch(this,"events."+this.className+".changed",this)}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s=t.events.dispatcher.getInstance(),o="initial",u=i.create({namespace:"display.container",inherits:t.display.element,constructor:function(n,r){u.Super.constructor.call(this,n,r),e.browser.msie&&e.browser.version>=9&&(this.__bg=new t.display.element(this.fluxid()+"__bg",{}),this.__bg.applyStateStyles(),this.__bgOuter=new t.display.element(this.fluxid()+"__bgOuter",{}),this.__bgOuter.$node().append(this.__bg.$node()),this.__bgOuter.applyStateStyles(),this.$node().append(this.__bgOuter.$node()),this.__container=new t.display.element(this.fluxid()+"__container",{}),this.__container.applyStateStyles(),this.$node().append(this.__container.$node()),this.__border=new t.display.element(this.fluxid()+"__border",{}),this.__border.applyStateStyles(),this.$node().append(this.__border.$node()))},fields:{isContainer:!0},methods:{style:function(n,r,i){!!r&&!!i&&this.states.style(n,t.core.clone(r));if(e.browser.msie&&e.browser.version>=9){if(n.indexOf("border")==0)return n=="border-radius"?(this.__bgOuter.style(n,r),this.__border.style(n,r)):n=="border-width"?(this.__container.x(r),this.__container.y(r),this.__border.style(n,r)):this.__border.style(n,r);if(n=="width"||n=="height")this.__bgOuter.style(n,r),this.__bg.style(n,r),this.__border.style(n,r),this.__container.style(n,r)}return u.Super.style.call(this,n,r)}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s=t.events.dispatcher.getInstance(),o=i.create({namespace:"display.button",inherits:t.display.element,constructor:function(e,t){o.Super.constructor.call(this,e,t)},fields:{isSelected:!1,selectedState:"_selected",editableFrames:!1,isContainer:!0},methods:{initialise:function(e,n){var r=this,i=["initial","_over","_down","_selected"],i,s,o;for(s=0;s<i.length;s++)if(!t.core.indexOf(r.frames.keys,i[s])){r.frames.keys.push(i[s]),r.frames.hash[i[s]]={},c=r.getChildren();for(o=0;o<c.length;o++)c[o].states.exists(i[s])||c[o].states.addState(i[s])}r.$node().css("cursor","pointer"),r.$node().bind("mouseenter","_over",function(e){r.changeFrame(e.data)}),r.$node().bind("mouseleave","initial",function(e){r.changeFrame(r.isSelected?r.selectedState:e.data)}),r.$node().bind("mousedown","_down",function(e){r.changeFrame(e.data)}),r.$node().bind("mouseup","_over",function(e){r.changeFrame(e.data)})},selected:function(e){this.isSelected=e;var t=e?"_selected":"initial";this.changeFrame(t)},click:function(e,t){this.$node().bind("click",function(n){t.call(e,n)})},gotoNextFrame:function(){!this.parent().gotoNextFrame||this.parent().gotoNextFrame.call(this.parent())},gotoPrevFrame:function(){!this.parent().gotoPrevFrame||this.parent().gotoPrevFrame.call(this.parent())},gotoFrame:function(e){!this.parent().gotoFrame||this.parent().gotoFrame.call(this.parent(),e.value)},gotoUrl:function(e){!!e.data&&t.core.isString(e.data)&&t.core.gotoUrl(e.data)},gotoEmail:function(e){!!e.data&&t.core.isString(e.data)&&t.core.gotoEmail(e.data)},dispatch:function(e){!!e.value&&t.core.isString(e.value)&&s.dispatch(this,e.value)}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s=i.create({namespace:"display.image",inherits:t.display.element,constructor:function(e,t){s.Super.constructor.call(this,e,t)},fields:{markup:"<img />"},props:{border:"none"},methods:{src:function(e){return!e||this.$node().attr("src",e),this.$node().attr("src")},initialise:function(){this.clearSrc()},attribute:function(e,t,n){return!t||(!n||this.states.setAttributeOnCurrentState(e,t),e=="src"?r[t]?(this.$node().attr(e,r[t].url),r[t].height&&this.$node().attr("height",r[t].height),r[t].width&&this.$node().attr("width",r[t].width)):this.clearSrc():this.$node().attr(e,t)),this.$node().attr(e)},style:function(e,t,n){if(e=="fill")return;return s.Super.style.call(this,e,t,n)},resetSize:function(t){var n=this;e("<img/>").attr("src",n.src()).load(function(){var e=this.width,r=this.height;n.width(e),n.height(r),!t||t(e,r)})},clearSrc:function(){this.src("http://placehold.it/"+this.width()+"x"+this.height())}}})}(jQuery,this),function(e){var t=e.fn.fluxui.types,n=e.fn.fluxui.fdata,r=e.fn.fluxui.assets,i=e.fn.fluxui.$class,s=i.create({namespace:"display.label",inherits:t.display.element,constructor:function(e,t){s.Super.constructor.call(this,e,t)},props:{overflow:"hidden","font-family":"arial","font-size":12},methods:{text:function(e){return!e||(!arguments[1]||this.states.setAttributeOnCurrentState("text",e),this.$node().html(e)),this.$node().html()},attribute:function(e,t,n){return!t||(!n||this.states.setAttributeOnCurrentState(e,t),e=="text"?this.text(t):this.$node().attr(e,t)),this.$node().attr(e)},style:function(e,t,n){if(e=="fill"||e.substr(0,6)=="border")return;return s.Super.style.call(this,e,t,n)}}})}(jQuery,this)